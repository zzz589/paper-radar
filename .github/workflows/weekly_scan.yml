name: Weekly Paper Scanner

on:
  schedule:
    # è®¾å®šï¼šæ¯å‘¨ä¸€æ—©ä¸Š 8:00 (UTCæ—¶é—´0:00) è¿è¡Œ
    - cron: '0 0 * * 1'
  # å…è®¸ä½ æ‰‹åŠ¨ç‚¹å‡»æŒ‰é’®è§¦å‘ï¼ˆæ–¹ä¾¿æµ‹è¯•ï¼‰
  workflow_dispatch:

permissions:
  contents: read
  issues: write  # éœ€è¦æƒé™æ¥åˆ›å»º Issue

jobs:
  paper-radar:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: Install dependencies
        run: pip install -r requirements.txt

      - name: Run Analysis Script
        env:
          # ---åœ¨è¿™é‡Œä¿®æ”¹ä½ çš„å…³é”®è¯---
          KEYWORDS: "Large Language Models, Chain of Thought"
        run: python main.py

      - name: Create GitHub Issue
        uses: peter-evans/create-issue-from-file@v4
        with:
          title: "ğŸ“‘ æ¯å‘¨è®ºæ–‡æ¨è: ${{ env.KEYWORDS }}"
          content-filepath: ./report.md
          labels: "weekly-reading, automated"
